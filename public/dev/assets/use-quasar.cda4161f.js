import{h as $,c as Q,a as v,b as j,i as I,e as p,r as h,w,f as z,G as P,g as x,l as H,d as V,H as S,I as B}from"./index.80491f2e.js";import{Q as O}from"./QResizeObserver.3b2b719c.js";const F=$("div",{class:"q-space"});var L=Q({name:"QSpace",setup(){return()=>F}}),_=Q({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:i}){const c=v(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>$("div",{class:c.value,role:"toolbar"},j(i.default))}}),k=Q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:i,emit:c}){const{proxy:{$q:s}}=x(),a=I(H,p);if(a===p)return console.error("QHeader needs to be child of QLayout"),p;const u=h(parseInt(t.heightHint,10)),n=h(!0),o=v(()=>t.reveal===!0||a.view.value.indexOf("H")>-1||s.platform.is.ios&&a.isContainer.value===!0),l=v(()=>{if(t.modelValue!==!0)return 0;if(o.value===!0)return n.value===!0?u.value:0;const e=u.value-a.scroll.value.position;return e>0?e:0}),m=v(()=>t.modelValue!==!0||o.value===!0&&n.value!==!0),q=v(()=>t.modelValue===!0&&m.value===!0&&t.reveal===!0),C=v(()=>"q-header q-layout__section--marginal "+(o.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(m.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),T=v(()=>{const e=a.rows.value.top,y={};return e[0]==="l"&&a.left.space===!0&&(y[s.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),e[2]==="r"&&a.right.space===!0&&(y[s.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),y});function d(e,y){a.update("header",e,y)}function g(e,y){e.value!==y&&(e.value=y)}function r({height:e}){g(u,e),d("size",e)}function f(e){q.value===!0&&g(n,!0),c("focusin",e)}w(()=>t.modelValue,e=>{d("space",e),g(n,!0),a.animate()}),w(l,e=>{d("offset",e)}),w(()=>t.reveal,e=>{e===!1&&g(n,t.modelValue)}),w(n,e=>{a.animate(),c("reveal",e)}),w(a.scroll,e=>{t.reveal===!0&&g(n,e.direction==="up"||e.position<=t.revealOffset||e.position-e.inflectionPoint<100)});const b={};return a.instances.header=b,t.modelValue===!0&&d("size",u.value),d("space",t.modelValue),d("offset",l.value),z(()=>{a.instances.header===b&&(a.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const e=P(i.default,[]);return t.elevated===!0&&e.push($("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push($(O,{debounce:0,onResize:r})),$("header",{class:C.value,style:T.value,onFocusin:f},e)}}}),G=Q({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:i}){const{proxy:{$q:c}}=x(),s=I(H,p);if(s===p)return console.error("QPage needs to be a deep child of QLayout"),p;if(I(V,p)===p)return console.error("QPage needs to be child of QPageContainer"),p;const u=v(()=>{const o=(s.header.space===!0?s.header.size:0)+(s.footer.space===!0?s.footer.size:0);if(typeof t.styleFn=="function"){const l=s.isContainer.value===!0?s.containerHeight.value:c.screen.height;return t.styleFn(o,l)}return{minHeight:s.isContainer.value===!0?s.containerHeight.value-o+"px":c.screen.height===0?o!==0?`calc(100vh - ${o}px)`:"100vh":c.screen.height-o+"px"}}),n=v(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>$("main",{class:n.value,style:u.value},j(i.default))}});const N=S("backend",()=>{async function t(u,n){return await fetch(`http://localhost:3000/${u}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(l=>l.json()).then(l=>l)}async function i(u,n){return await fetch(`http://localhost:3000/${u}/${n}/`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(l=>l.json()).then(l=>l)}async function c(u,n,o){return await fetch(`http://localhost:3000/${u}/${n}/`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(m=>m.json()).then(m=>m)}async function s(u,n){return await fetch(`http://localhost:3000/${u}/${n}}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(l=>l.json()).then(l=>l)}async function a(u){let n=[];return await fetch(`http://localhost:3000/${u}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(o=>o.json()).then(o=>n=o),n}return{createItem:t,readItem:i,updateItem:c,deleteItem:s,listItem:a}}),K=S("notes",()=>{const t=N(),i=h([]),c=h(0),s=h(""),a=h(""),u=h(""),n=h(""),o=h("");async function l(r){return await t.createItem("notes",r).then(b=>(i.value.push(b),b))}function m(r){c.value=r.id,s.value=r.title,a.value=r.tags,u.value=r.createdAt,n.value=r.updatedAt,o.value=r.body}async function q(r){let f={id:0,title:"",tags:"",body:""};return f=await t.readItem("notes",r),m(f),f}async function C(){return await t.updateItem("notes",c.value,{id:c.value,title:s.value,tags:a.value,body:o.value}).then(r=>(i.value=i.value.filter(f=>f.id!==r.id),i.value.push(r),r))}async function T(r){return await t.deleteItem("notes",r).then(f=>(i.value=i.value.filter(b=>b.id!==r),f))}async function d(){return await t.listItem("notes").then(r=>i.value=r)}function g(){c.value=0,s.value="",a.value="",u.value="",n.value="",o.value=""}return{data:i,id:c,title:s,tags:a,createdAt:u,updatedAt:n,body:o,list:d,create:l,read:q,update:C,remove:T,clean:g}});function R(){return I(B)}export{G as Q,_ as a,L as b,k as c,R as d,K as u};
