import{h as $,c as I,a as h,b as j,i as w,e as m,r as v,w as q,f as z,G as P,g as x,l as H,d as V,H as S,I as k}from"./index.ea3d98df.js";import{Q as B}from"./QResizeObserver.30162918.js";const O=$("div",{class:"q-space"});var E=I({name:"QSpace",setup(){return()=>O}}),L=I({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:i}){const c=h(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>$("div",{class:c.value,role:"toolbar"},j(i.default))}}),_=I({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:i,emit:c}){const{proxy:{$q:s}}=x(),a=w(H,m);if(a===m)return console.error("QHeader needs to be child of QLayout"),m;const u=v(parseInt(t.heightHint,10)),n=v(!0),r=h(()=>t.reveal===!0||a.view.value.indexOf("H")>-1||s.platform.is.ios&&a.isContainer.value===!0),l=h(()=>{if(t.modelValue!==!0)return 0;if(r.value===!0)return n.value===!0?u.value:0;const e=u.value-a.scroll.value.position;return e>0?e:0}),p=h(()=>t.modelValue!==!0||r.value===!0&&n.value!==!0),Q=h(()=>t.modelValue===!0&&p.value===!0&&t.reveal===!0),C=h(()=>"q-header q-layout__section--marginal "+(r.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(p.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),T=h(()=>{const e=a.rows.value.top,y={};return e[0]==="l"&&a.left.space===!0&&(y[s.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),e[2]==="r"&&a.right.space===!0&&(y[s.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),y});function d(e,y){a.update("header",e,y)}function g(e,y){e.value!==y&&(e.value=y)}function o({height:e}){g(u,e),d("size",e)}function f(e){Q.value===!0&&g(n,!0),c("focusin",e)}q(()=>t.modelValue,e=>{d("space",e),g(n,!0),a.animate()}),q(l,e=>{d("offset",e)}),q(()=>t.reveal,e=>{e===!1&&g(n,t.modelValue)}),q(n,e=>{a.animate(),c("reveal",e)}),q(a.scroll,e=>{t.reveal===!0&&g(n,e.direction==="up"||e.position<=t.revealOffset||e.position-e.inflectionPoint<100)});const b={};return a.instances.header=b,t.modelValue===!0&&d("size",u.value),d("space",t.modelValue),d("offset",l.value),z(()=>{a.instances.header===b&&(a.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const e=P(i.default,[]);return t.elevated===!0&&e.push($("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push($(B,{debounce:0,onResize:o})),$("header",{class:C.value,style:T.value,onFocusin:f},e)}}}),G=I({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:i}){const{proxy:{$q:c}}=x(),s=w(H,m);if(s===m)return console.error("QPage needs to be a deep child of QLayout"),m;if(w(V,m)===m)return console.error("QPage needs to be child of QPageContainer"),m;const u=h(()=>{const r=(s.header.space===!0?s.header.size:0)+(s.footer.space===!0?s.footer.size:0);if(typeof t.styleFn=="function"){const l=s.isContainer.value===!0?s.containerHeight.value:c.screen.height;return t.styleFn(r,l)}return{minHeight:s.isContainer.value===!0?s.containerHeight.value-r+"px":c.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":c.screen.height-r+"px"}}),n=h(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>$("main",{class:n.value,style:u.value},j(i.default))}});const F=S("backend",()=>{async function t(u,n){return await fetch(`https://note-backend-6ilq.onrender.com/${u}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(l=>l.json()).then(l=>l)}async function i(u,n){return await fetch(`https://note-backend-6ilq.onrender.com/${u}/${n}/`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(l=>l.json()).then(l=>l)}async function c(u,n,r){return await fetch(`https://note-backend-6ilq.onrender.com/${u}/${n}/`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(p=>p.json()).then(p=>p)}async function s(u,n){return await fetch(`https://note-backend-6ilq.onrender.com/${u}/${n}}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(l=>l.json()).then(l=>l)}async function a(u){let n=[];return await fetch(`https://note-backend-6ilq.onrender.com/${u}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>n=r),n}return{createItem:t,readItem:i,updateItem:c,deleteItem:s,listItem:a}}),K=S("notes",()=>{const t=F(),i=v([]),c=v(0),s=v(""),a=v(""),u=v(""),n=v(""),r=v("");async function l(o){return await t.createItem("notes",o).then(b=>(i.value.push(b),b))}function p(o){c.value=o.id,s.value=o.title,a.value=o.tags,u.value=o.createdAt,n.value=o.updatedAt,r.value=o.body}async function Q(o){let f={id:0,title:"",tags:"",body:""};return f=await t.readItem("notes",o),p(f),f}async function C(){return await t.updateItem("notes",c.value,{id:c.value,title:s.value,tags:a.value,body:r.value}).then(o=>(i.value=i.value.filter(f=>f.id!==o.id),i.value.push(o),o))}async function T(o){return await t.deleteItem("notes",o).then(f=>(i.value=i.value.filter(b=>b.id!==o),f))}async function d(){return await t.listItem("notes").then(o=>i.value=o)}function g(){c.value=0,s.value="",a.value="",u.value="",n.value="",r.value=""}return{data:i,id:c,title:s,tags:a,createdAt:u,updatedAt:n,body:r,list:d,create:l,read:Q,update:C,remove:T,clean:g}});function R(){return w(k)}export{G as Q,L as a,E as b,_ as c,R as d,K as u};
